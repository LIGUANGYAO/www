<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no,user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- PWA -->
    <link rel="manifest" href="/pwa/manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="黄敬鑫导航">
    <link rel="apple-touch-icon" href="pwa/icons/logo-256.png">
    <!-- module & icon -->
    <link href="./module/tailwindcss.min.css" rel="stylesheet">
    <script src="./module/vue.min.js"></script>
    <link rel="stylesheet" href="./module/iconfont/iconfont.css">

    <link rel="shortcut icon" href="./image/favicon.ico">
    <title>黄敬鑫导航</title>

    <style>
        html,
        body {
            scroll-behavior: smooth;
        }

        .double-line {
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }

        a {
            color: #606f7b;
            text-decoration: none;
        }

        #about p {
            padding-bottom: 10px;
        }

        @media screen and (max-width:576px) {
            .icon-big {
                font-size: 36px;
            }

        }

        .bg-wechat {
            background-color: #393A3F;
        }
    </style>
</head>

<body>

    <div id="app" class="flex flex-col sm:flex-row">
        <!-- 左边栏 -->
        <nav class="sm:min-h-screen w-full sm:w-12 lg:w-64">
            <div class="bg-wechat pin-t pin-l w-full sm:w-12 lg:w-64 md:block sm:min-h-screen text-white"
                :class="isFixed?'fixed':''">
                <div class="flex flex-row items-center justify-between sm:justify-center py-2 sm:py-4 px-8 sm:px-0">
                    <div class="h-12 w-12 lg:mr-4 hidden sm:block">
                        <img src="./image/logo.png" alt="logo">
                    </div>
                    <div class="md:hidden md:mr-4 lg:block lg:mr-0">
                        <h3 class="text-blue hidden md:block">黄敬鑫导航</h3>
                        <p class="sm:mt-2 text-lg sm:text-sm sm:text-blue-lightest block sm:hidden md:block">黄敬鑫携程为您服务
                        </p>
                    </div>
                    <div class="block sm:hidden">
                        <span class="iconfont icon-shezhi mr-2" style="font-size:24px;"
                            @click="isFixed=!isFixed"></span>
                        <span class="iconfont icon-caidan" style="font-size:24px;" @click="showMenu=!showMenu"></span>
                    </div>
                </div>
                <ul v-show="showMenu"
                    class="flex flex-row flex-wrap sm:flex-col list-reset mt-2 md:pl-0 md:pr-0 lg:pl-12 lg:pr-8">
                    <li v-for="type in types" class="w-1/4 sm:w-full text-grey cursor-pointer hover:text-white">
                        <div class="flex flex-col items-center sm:flex-row sm:justify-center py-3 sm:border-b border-grey-darker"
                            @click="jump(type.id)">
                            <span class="iconfont icon-big mr-0 lg:mr-2" :class="type.icon"></span>
                            <span class="text-sm mt-1 sm:mt-0 block sm:hidden lg:block">{{type.name}}</span>
                            <span class="iconfont icon-arrow-right ml-16 hidden lg:block"></span>
                        </div>
                    </li>
                </ul>
                <a v-show="showMenu"
                    class="block flex flex-row justify-center mt-2 sm:mt-6 mb-4 text-sm cursor-pointer text-white"
                    href="#about">
                    <span class="iconfont icon-guanyuwomen mr-4 sm:mr-0 lg:mr-2"></span>
                    <span class="block sm:hidden lg:block">关于本站</span>
                </a>
            </div>
        </nav>
        <div v-if="isFixed" style="height:43px;"></div>


        <!-- 右边栏 -->
        <div class="flex-1 sm:p-8" style="background-color:#f7f7f7">

            <div v-for="type in types">
                <div class="py-4 mt-2 ml-2 sm:ml-0" :id="type.id">
                    <span class="iconfont icon-biaoqian"></span>
                    <span class="">{{type.name}}</span>
                </div>

                <div class="flex flex-row items-center flex-wrap">
                    <div v-for="list in type.lists"
                        class="flex flex-row items-center w-1/3 sm:w-1/2 xl:w-1/4 sm:h-24 px-2 mt-4 overflow-hidden">

                        <div @click="open(list.url)" style="min-width:80px"
                            class="flex flex-col sm:flex-row items-center px-1 py-2 sm:p-4 h-full w-full border bg-white rounded cursor-pointer hover:text-blue hover:border-blue">
                            <div class="h-12 w-12 sm:mr-4" style="min-height:48px;min-width:48px;">
                                <img :src="'./image/site/'+list.logo" :alt="list.logo" class="w-full h-full rounded">
                            </div>

                            <div class="flex flex-col w-5/6 overflow-hidden">
                                <span
                                    class="font-bold text-sm whitespace-no-wrap sm:truncate mt-2 text-center sm:text-left">{{list.name}}</span>
                                <span
                                    class="h-8 text-grey-darkest text-sm mt-2 w-full hidden sm:block sm:double-line">{{list.description}}</span>
                            </div>
                        </div>

                    </div>
                </div>
            </div>


            <div class="mt-8 bg-white p-6 text-grey-darker" id="about">
                <div class="pb-4 mt-4">
                    <span class="iconfont icon-biaoqian"></span>
                    <span class="">关于本站</span>
                </div>
                <div>
                    <blockquote class="">
                        <p class="">紧跟 <a href="http://www.duoluole.com" target="_blank" class="text-blue-light">大神-轻狂志
                            </a>步伐，在模仿中进步。</p>
                    </blockquote>
                </div>

                <div class="py-4 mt-2">
                    <span class="iconfont icon-biaoqian"></span>
                    <span class="">关于站长</span>
                </div>
                <div>
                    <blockquote>
                        <p>前端业余爱好者，欢迎加好友学习交流。</p>
                    </blockquote>
                </div>
            </div>

            <!-- 社交软件 -->
            <div class="flex flex-row justify-center mt-8">
                <ul class="flex flex-row justify-center flex-wrap list-reset w-full">
                    <li v-for="(app,index) in socials" :key="index" class="w-8 h-8 mx-1 mt-2">
                        <a :href="app.url" target="_blank" class="block h-full w-full">
                            <img :src="`./image/app/${app.logo}.png`" :alt="app.logo" :title="app.name" class="rounded">
                        </a>
                    </li>
                </ul>
            </div>

            <!-- 备案信息 -->
            <div class="flex flex-col md:flex-row justify-center items-center mt-12">
                <p class="text-sm md:mr-4 py-1" style="color:#939393;">Copyright©2019 黄敬鑫</p>
                <p class="md:mr-8 py-1">
                    <span class="text-sm">粤ICP备18112952号-1</span>
                    <!-- cnzz 站点统计 -->
                    <!-- <script type="text/javascript">
                        var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");
                        document.write(unescape("%3Cspan id='cnzz_stat_icon_1277114138'%3E%3C/span%3E%3Cscript src='" +
                            cnzz_protocol +
                            "s5.cnzz.com/z_stat.php%3Fid%3D1277114138%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"
                        ));
                    </script> -->
                </p>
                <a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=44030902001145"
                    class="py-2">
                    <img class="align-middle" src="image/foot/beian.png" />
                    <span class="align-middle">粤公网安备 44030902001145号</span>
                </a>
            </div>

        </div>

    </div>



    <script>
        let app = new Vue({
            el: '#app',
            data: {
                types: [],
                socials: [],
                showMenu: false,
                isFixed: true
            },
            created() {
                if (document.documentElement.clientWidth > 567) {
                    this.showMenu = true;
                }

                fetch('./data/site.json')
                    .then(res => res.json())
                    .then(data => {
                        this.types = data;
                    });
                fetch('./data/app.json')
                    .then(res => res.json())
                    .then(data => {
                        this.socials = data;
                    });
            },
            methods: {
                open(url) {
                    window.open(url, '_blank')
                },
                jump(id) {
                    document.getElementById(id).scrollIntoView();
                    // 如果是手机端，就顺带把导航栏关闭
                    if (document.documentElement.clientWidth < 567) {
                        this.showMenu = false;
                    }
                }
            }
        })
    </script>
    <!-- <script src="./sw.js"></script> -->

</body>

</html>